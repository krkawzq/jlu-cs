# 语法规则

## Statement

使用分号间隔的单位

Scope 内的分号不影响外部，Scope是一个Expr

{Statement};

## Ref

&{Ident} = Ref

## Scope

{} = Scope

## Expr

Scope
If
Loop
Let 值为 let的值或tuple（let多个时）
Del 值为 null
NamedPrim 值为Prim的引用
UnamedPrim 值为scope值或修饰后的值

Literal = Expr
Ident = Expr

Ident(Args...) = Expr 函数调用是Expr

Tuple | List | Dict = Expr

### Literal Expr

全部是Literal的Expr组合是Literal Expr

### operator

!a

a + b
a - b
a * b
a / b
a % b

a == b
a != b
a > b
a < b
a >= b
a <= b
a && b
a || b

(Expr)
op Expr
Expr op Expr
= Expr

## Let

let Ident;
let Ref;
let Ident, Ref, ...;
let Ident = Expr;
let Ident = Ref;
let Ident, Ident, ... = Expr;
let Ident, Ident, ... = Ref;

### Hint

任意Ident可以写成Ident: Hint

Ident = Hint
Ident | Hint = Hint

## Del

del Ident;
del Ident, Ident, ...;

## If

if Expr Scope
if Expr Scope else Scope
if Expr Scope {else if Expr Scope...} else Scope

## Loop

loop Scope

loop Label Scope

### Break

break;

break Label;

break Label Expr;

break Label Ref;

## Return

return Expr;

return Ref;

## Prim

### UnnamedPrim

Scope
@Scope
@Ident Scope

### NamedPrim

$Ident(Ident, Ref, ...) UnnamedPrim

@Ident $Ident(Ident, Ref, ...) UnnamedPrim

UnnamedPrim = Expr
NamedPrim = Expr

## Tuple

(Expr,) 是tuple (Expr)不是
因此可以
(Ref,) 但是不能 (Ref)

(Expr, Ref, ...)

## List

[Expr, Ref, ...]

## Dict

{Expr: Ref, Expr: Ref, ...}

key不可变

## Call

Ident(Args...)

Call = Expr